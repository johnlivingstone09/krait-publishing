<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Krait Publishing Company</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="stylesheet" href="css/animate.css">
    
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
    <link rel="stylesheet" href="css/magnific-popup.css">
    
    <link rel="stylesheet" href="css/flaticon.css">
    <link rel="stylesheet" href="css/style.css">

    

    <!-- Favicon Icons -->
<link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="192x192" href="images/android-chrome-192x192.png">
<link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">

    
    <style>
      .client-logos-container .row {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
}

.client-logo {
    width: 100%;
    max-width: 120px;  /* adjust as needed */
}

      .client-logo {
        transition: all 0.3s ease;
        border: 1px solid rgba(0,0,0,0.05);
        background-color: white;
      }
      .client-logo:hover {
        transform: translateY(-5px) scale(1.05);
        box-shadow: 0 10px 20px rgba(0,0,0,0.1) !important;
        z-index: 1;
      }
      .client-logo img {
        filter: grayscale(0%);
        opacity: 1;
        transition: all 0.3s ease;
      }
      .client-logo:hover img {
        transform: scale(1.05);
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      }
      .hover-shadow {
        transition: all 0.3s ease;
      }
      .hover-shadow:hover {
        box-shadow: 0 5px 15px rgba(0,0,0,0.1) !important;
      }
      .transition {
        transition: all 0.3s ease;
      }
      .bg-prime {
        background-color: #f8f9fa;
      }
      
      /* Navigation centering fix */
      .ftco_navbar .navbar-nav {
        justify-content: center !important;
        width: 100%;
      }
      
      .ftco_navbar .container-fluid {
        justify-content: center;
      }
      
      @media (min-width: 992px) {
        .ftco_navbar .navbar-collapse {
          justify-content: center;
        }
        
        /* Perfect centering - override any right drift */
        .ftco_navbar .navbar-collapse .w-100 {
          position: absolute;
          left: 50%;
          transform: translateX(-50%);
          width: auto !important;
        }
        
        .ftco_navbar .navbar-nav {
          margin: 0 auto;
          float: none;
        }
      }
      
      /* Perfect centering for Book Publishing Company title */
      /* Navbar brand center */
.navbar-brand {
    position: relative;  /* change from absolute */
    left: auto;
    transform: none;
    margin: 0 auto;
    text-align: center;
    display: block;
}

/* Navbar links */
.ftco_navbar .navbar-nav {
    justify-content: center !important;
}
img {
    max-width: 100%;
    height: auto;
}

      
    </style>
	<a href="https://wa.me/+916380431578?text=Hello%2C%20I%20am%20interested%20in%20publishing%20my%20paper%20with%20Krait%20Publishing." class="whatsapp-float" target="_blank">

  </head>
  <body>
	<!-- WhatsApp Chat Button -->
<a href="https://wa.me/+918903020071" class="whatsapp-float" target="_blank">
  <img src="https://img.icons8.com/color/48/000000/whatsapp--v1.png" alt="Chat on WhatsApp" />
</a>

<!-- CSS Styling -->
<style>
  .whatsapp-float {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 999;
    background-color: #25d366;
    border-radius: 50%;
    padding: 10px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.2);
    transition: transform 0.3s;
  }
  .whatsapp-float:hover {
    transform: scale(1.1);
  }
</style>


  	  	<div class="container-fluid px-md-5 pt-4 pt-md-5">
			<div class="row align-items-center justify-content-between">
				<div class="col-md-3 d-flex align-items-center">
					<div class="logo-container">
  	<p class="mb-0 d-flex align-items-center"> 
     <img src="images/krait.png" alt="Krait Publishing Logo" style="height: 120px; width: auto; max-width: 400px; transform: scale(1.8); transform-origin: left center; margin-top: -10px;"> 
 </p>        </div>
				</div>
				<div class="col-md-6 text-center d-flex align-items-center justify-content-center">
					<a class="navbar-brand mb-0" href="index.html">Book <span> Publishing Company</span> </a>
				</div>
				<div class="col-md-3 d-flex justify-content-end align-items-center">
					<form action="#" class="searchform mb-0">
			          <div class="form-group d-flex mb-0">
			            <input type="text" class="form-control pl-3" placeholder="Search">
			            <button type="submit" placeholder="" class="form-control search"><span class="fa fa-search"></span></button>
			          </div>
			        </form>
				</div>
			</div>
		</div>
	<nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
  <div class="container-fluid">

    <!-- Toggler for mobile -->
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav"
      aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="fa fa-bars"></span> Menu
    </button>

    <!-- Navbar links centered -->
    <div class="collapse navbar-collapse justify-content-center" id="ftco-nav">
      <ul class="navbar-nav">
        <li class="nav-item px-2"><a href="index.html" class="nav-link">Home</a></li>
        <li class="nav-item px-2"><a href="about.html" class="nav-link">About</a></li>
        <li class="nav-item px-2"><a href="services.html" class="nav-link">Services</a></li>
        <li class="nav-item px-2"><a href="book.html" class="nav-link">Books</a></li>
        <li class="nav-item px-2"><a href="blog.html" class="nav-link">Blog</a></li>
        <li class="nav-item px-2"><a href="wof.html" class="nav-link">Wall of fame</a></li>
        <li class="nav-item px-2"><a href="contact.html" class="nav-link">Contact</a></li>
      </ul>
    </div>

    <!-- Cart and Wishlist aligned to right -->
    <div class="d-flex align-items-center ml-auto">
      <a href="cart.html" class="btn btn-primary mx-1">
        <i class="fa fa-shopping-cart"></i> Cart
        <span id="cart-count" class="badge badge-light">0</span>
      </a>
      <a href="wishlist.html" class="btn btn-danger mx-1">
        <i class="fa fa-heart"></i> Wishlist
        <span id="wishlist-count" class="badge badge-light">0</span>
      </a>
    </div>

  </div>
</nav>

    <!-- END nav -->
    <!-- END nav -->
    
    <section class="hero-wrap hero-wrap-2" style="background-image: url('images/bg_5.jpg');" data-stellar-background-ratio="0.5">
      <div class="overlay"></div>
      <div class="container">
        <div class="row no-gutters slider-text align-items-center justify-content-center">
          <div class="col-md-9 ftco-animate mb-0 text-center">
          	<p class="breadcrumbs mb-0"><span class="mr-2"><a href="index.html">Home <i class="fa fa-chevron-right"></i></a></span> <span>Shopping Cart <i class="fa fa-chevron-right"></i></span></p>
            <h1 class="mb-0 bread">Your Shopping Cart</h1>
          </div>
        </div>
      </div>
    </section>

    <section class="ftco-section">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <div class="cart-table-wrap">
              <table class="table table-responsive-xl">
                <thead class="thead-primary">
                  <tr>
                    <th>&nbsp;</th>
                    <th>Product</th>
                    <th>Price</th>
                    <th>Quantity</th>
                    <th>Total</th>
                    <th>&nbsp;</th>
                  </tr>
                </thead>
                <tbody id="cart-items">
                  <!-- Cart items will be loaded here dynamically -->
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <div class="row justify-content-end mt-5">
          <div class="col-lg-8 mt-5">
            <div class="cart-total mb-3">
              <h3>Cart Summary</h3>
              <div class="d-flex justify-content-between">
                <p>Total Items:</p>
                <p id="total-items">0</p>
              </div>
              <div class="d-flex justify-content-between">
                <p>Total Amount:</p>
                <p id="total-amount">‚Çπ0</p>
              </div>
              <hr>
              <div class="d-flex justify-content-between">
                <h4>Grand Total:</h4>
                <h4 id="grand-total">‚Çπ0</h4>
              </div>
            </div>
            <!-- Step 1: Ask user to start WhatsApp chat manually -->
<a href="#" id="say-hi-btn" class="btn btn-success py-3 px-4 btn-block mb-3">
  üëã Say Hi to Krait Publishing (Step 1)
</a>


<!-- Step 2: Proceed to checkout -->
<button id="checkout-page-btn" class="btn btn-primary py-3 px-4 btn-block">  Proceed to Checkout (Step 2)</button>

            
            
          </div>
        </div>

        <!-- Checkout Form -->
        <div class="row mt-5" id="checkout-section" style="display: none;">
          <div class="col-lg-8 mx-auto">
            <div class="checkout-form" style="padding: 30px; background: #f8f9fa; border-radius: 10px; box-shadow: 0 0 15px rgba(0,0,0,0.1);">
              <h3 class="mb-4 text-center"><i class="fa fa-user"></i> Customer Details</h3>
              
              <div class="form-group">
                <label for="customer-name">Full Name *</label>
                <input type="text" id="customer-name" placeholder="Enter your full name" class="form-control" required>
              </div>
              
              <div class="form-group">
                <label for="customer-phone">Phone Number *</label>
                <input type="tel" id="customer-phone" placeholder="Enter your phone number" class="form-control" required>
              </div>
              
              <div class="form-group">
                <label for="customer-address">Full Address *</label>
                <textarea id="customer-address" placeholder="Enter your complete address with pincode" class="form-control" rows="4" required></textarea>
              </div>
              
              <div class="form-group">
                <label for="customer-email">Email Address (Optional)</label>
                <input type="email" id="customer-email" placeholder="Enter your email address" class="form-control">
              </div>
              
              <div class="text-center mt-4">
                <button id="submit-order" class="btn btn-success py-3 px-5 mr-3">
                  <i class="fa fa-whatsapp"></i> Send Order via WhatsApp
                </button>
                <button id="cancel-checkout" class="btn btn-secondary py-3 px-4">
                  <i class="fa fa-arrow-left"></i> Back to Cart
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
     


    </section>
    
    <!-- Then your map -->
<div style="width: 100%; height: 300px;">
  <iframe 
    src="https://www.google.com/maps?q=10.7922,78.7644256&hl=en&z=18&output=embed" 
    width="100%" 
    height="100%" 
    frameborder="0" 
    style="border:0;" 
    allowfullscreen="" 
    loading="lazy">
  </iframe>
</div>


     
  <!-- Luxury Footer Start -->
<footer style="background-color:#1a1a1a; /* deep charcoal black */
               color:#d4af37; /* gold text */
               font-family: 'Playfair Display', serif; 
               padding:60px 0;">


  <div class="container">
    <div class="row">

      <!-- Connect Section -->
      <div class="col-md-4 mb-4">
        <h2 style="font-weight:700; font-size:22px; margin-bottom:15px; color:#d4af37;">Connect</h2>
        <p>Get in touch. Great books begin with great conversations.</p>
        <div style="display:flex; gap:15px; margin-top:10px;">
          <a href="https://www.instagram.com/kraitpublishing" target="_blank" title="Instagram" style="color:#E1306C; transition: transform 0.3s;">
            <i class="fa fa-instagram fa-2x"></i>
          </a>
          <a href="https://www.linkedin.com/company/krait-publishing/" target="_blank" title="LinkedIn" style="color:#0A66C2; transition: transform 0.3s;">
            <i class="fa fa-linkedin fa-2x"></i>
          </a>
          
        </div>
        <style>
          footer a:hover i {
            transform: scale(1.2);
          }
        </style>
      </div>

      <!-- Quick Links -->
      <div class="col-md-4 mb-4">
        <h2 style="font-weight:700; font-size:22px; margin-bottom:15px; color:#d4af37;">Quick Links</h2>
        <ul style="list-style:none; padding:0; line-height:2;">
          <li><a href="index.html" class="footer-link">Home</a></li>
          <li><a href="about.html" class="footer-link">About</a></li>
          <li><a href="services.html" class="footer-link">Services</a></li>
          <li><a href="book.html" class="footer-link">Books</a></li>
          <li><a href="blog.html" class="footer-link">Blog</a></li>
          <li><a href="contact.html" class="footer-link">Contact</a></li>
        </ul>
        <style>
          .footer-link {
            color:#d4af37;
            text-decoration:none;
            transition: color 0.3s, transform 0.3s;
          }
          .footer-link:hover {
            color:#ff834a; /* warm premium hover color */
            transform: translateX(5px);
          }
        </style>
      </div>

      <!-- Contact Info -->
      <div class="col-md-4 mb-4">
        <h2 style="font-weight:700; font-size:22px; margin-bottom:15px; color:#d4af37;">Contact</h2>

        <ul style="list-style:none; padding:0; line-height:2;">
          <li><i class="fa fa-map-marker" style="margin-right:8px; color:#b37e5f;"></i>4/718, Nancy complex, Opp. IOB bank, Trichy-620013</li>
          <li><i class="fa fa-phone" style="margin-right:8px; color:#b37e5f;"></i>
              <a href="tel:+918903020071" class="contact-link">+91 89030 20071</a>
          </li>
 
          <!-- Prefer this if mailto is not working reliably -->
<a href="https://mail.google.com/mail/?view=cm&fs=1&to=kraitpublishing@gmail.com&su=Book%20Publishing%20Enquiry&body=Hi%20Krait%20Publishing." target="_blank">
  <span class="icon fa fa-envelope pr-4"></span>
  <span class="text">kraitpublishing@gmail.com</span>
</a>
        </ul>
        <style>
          .contact-link {
            color:#d4af37;
            text-decoration:none;
            transition: color 0.3s;
          }
          .contact-link:hover {
            color:#ff864f; /* hover for phone/email */
          }
        </style>
      </div>

    </div>

    <!-- Legal / Copyright -->
    <div style="text-align:center; margin-top:40px; font-size:14px; color:#d4af37; line-height:1.6;">
      <p>&copy; <script>document.write(new Date().getFullYear());</script> Krait Publishing. All rights reserved.</p>
      <p>All content is property of Krait Publishing. <a href="https://mail.google.com/mail/?view=cm&fs=1&to=kraitpublishing@gmail.com&su=Book%20Publishing%20Enquiry&body=Hi%20Krait%20Publishing." target="_blank" class="contact-link">Contact us</a></p>
    </div>
  </div>
</footer>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">

            
  

  <!-- loader -->
  <div id="ftco-loader" class="show fullscreen"><svg class="circular" width="48px" height="48px"><circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/><circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#F96D00"/></svg></div>


  <script src="js/jquery.min.js"></script>
  <script src="js/jquery-migrate-3.0.1.min.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/jquery.easing.1.3.js"></script>
  <script src="js/jquery.waypoints.min.js"></script>
  <script src="js/jquery.stellar.min.js"></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="js/jquery.magnific-popup.min.js"></script>
  <script src="js/jquery.animateNumber.min.js"></script>
  <script src="js/scrollax.min.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
  <script src="js/google-map.js"></script>
  <script src="js/main.js"></script>
  <script src="js/book-search.js"></script>
    
  
  
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Load cart from localStorage
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      const cartItemsContainer = document.getElementById('cart-items');
      const subtotalElement = document.querySelector('.cart-total p:nth-child(1) span:nth-child(2)');
      const totalElement = document.querySelector('.total-price span:nth-child(2)');
      
      // Update cart count in navigation
      function updateCartCount() {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        let itemCount = 0;
        
        // Count total items (considering quantities)
        cart.forEach(item => {
          itemCount += item.quantity;
        });
        
        // Update the cart count display
        const cartCountElement = document.getElementById('cart-count');
        cartCountElement.textContent = itemCount;
        
        // Hide the badge if cart is empty
        if (itemCount === 0) {
          cartCountElement.style.display = 'none';
        } else {
          cartCountElement.style.display = 'inline-block';
        }
      }
      
      // Initial cart count update
      updateCartCount();
      
      // Function to update cart totals
function updateCartTotals() {
  const cart = JSON.parse(localStorage.getItem('cart')) || [];
  let subtotal = 0;
  let totalItems = 0;

  cart.forEach(item => {
    subtotal += parseFloat(item.price) * item.quantity;
    totalItems += item.quantity;
  });

  // Update the new cart summary elements
  const totalItemsElement = document.getElementById('total-items');
  const totalAmountElement = document.getElementById('total-amount');
  const grandTotalElement = document.getElementById('grand-total');
  
  if (totalItemsElement) totalItemsElement.textContent = totalItems;
  if (totalAmountElement) totalAmountElement.textContent = '‚Çπ' + subtotal.toFixed(2);
  if (grandTotalElement) grandTotalElement.textContent = '‚Çπ' + subtotal.toFixed(2);
}



      
      // Function to remove item from cart
      function removeFromCart(index) {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        cart.splice(index, 1);
        localStorage.setItem('cart', JSON.stringify(cart));
        renderCart();
        updateCartTotals();
        updateCartCount();
      }
      
      // Function to update item quantity
      function updateQuantity(index, newQuantity) {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        cart[index].quantity = parseInt(newQuantity);
        localStorage.setItem('cart', JSON.stringify(cart));
        renderCart();
        updateCartTotals();
        updateCartCount();
      }
      
      // Function to render cart items
      function renderCart() {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        cartItemsContainer.innerHTML = '';
        
        if (cart.length === 0) {
          cartItemsContainer.innerHTML = `
            <tr>
              <td colspan="6" class="text-center">
                <p>Your cart is empty. <a href="book.html">Continue shopping</a></p>
              </td>
            </tr>
          `;
          return;
        }
        
        cart.forEach((item, index) => {
          const itemTotal = parseFloat(item.price) * item.quantity;
          
          const itemRow = document.createElement('tr');
          itemRow.className = 'alert';
          itemRow.setAttribute('role', 'alert');
          
          itemRow.innerHTML = `
            <td>
              <div class="img" style="background-image: url(${item.image});"></div>
            </td>
            <td>
              <div class="product-info">
                <h3>${item.title}</h3>
                <p class="text-muted">Book</p>
              </div>
            </td>
            <td>‚Çπ${parseFloat(item.price).toFixed(2)}</td>
            <td class="quantity">
              <div class="input-group">
                <input type="number" name="quantity" class="quantity form-control input-number" 
                  value="${item.quantity}" min="1" max="100" data-index="${index}">
              </div>
            </td>
            <td>‚Çπ${itemTotal.toFixed(2)}</td>
            <td>
              <button type="button" class="close remove-item" data-index="${index}">
                <span aria-hidden="true"><i class="fa fa-close"></i></span>
              </button>
            </td>
          `;
          
          cartItemsContainer.appendChild(itemRow);
        });
        
        // Add event listeners to quantity inputs and remove buttons
        document.querySelectorAll('.quantity.input-number').forEach(input => {
          input.addEventListener('change', function() {
            const index = this.getAttribute('data-index');
            updateQuantity(index, this.value);
          });
        });
        
        document.querySelectorAll('.remove-item').forEach(button => {
          button.addEventListener('click', function() {
            const index = this.getAttribute('data-index');
            removeFromCart(index);
          });
        });
      }
      
      // Initial render
      renderCart();
      updateCartTotals();
      
      // Checkout functionality
      const checkoutBtn = document.getElementById('checkout-page-btn');
      const checkoutSection = document.getElementById('checkout-section');
      const cancelCheckoutBtn = document.getElementById('cancel-checkout');
      const submitOrderBtn = document.getElementById('submit-order');

      // Handle "Say Hi" button click
document.getElementById('say-hi-btn').addEventListener('click', function(e) {
  e.preventDefault();
  localStorage.setItem('whatsappInitiated', 'true');
  window.open('https://wa.me/918903020071?text=Hi', '_blank');
});

      
      // Show checkout form
      checkoutBtn.addEventListener('click', function() {
  const cart = JSON.parse(localStorage.getItem('cart')) || [];

  // ‚úÖ Check if user completed Step 1
  if (localStorage.getItem('whatsappInitiated') !== 'true') {
    alert('‚ö†Ô∏è Please click "Say Hi to Krait Publishing" on WhatsApp before proceeding to checkout.');
    return;
  }

  if (cart.length === 0) {
    alert('Your cart is empty! Please add some books before checkout.');
    return;
  }

  checkoutSection.style.display = 'block';
  checkoutSection.scrollIntoView({ behavior: 'smooth' });
});

      
      // Cancel checkout and go back to cart
      cancelCheckoutBtn.addEventListener('click', function() {
        checkoutSection.style.display = 'none';
        // Clear form
        document.getElementById('customer-name').value = '';
        document.getElementById('customer-phone').value = '';
        document.getElementById('customer-address').value = '';
        document.getElementById('customer-email').value = '';
      });
      
      // Submit order via WhatsApp
      submitOrderBtn.addEventListener('click', function(e) {
  e.preventDefault();

        if (confirm('Would you like to clear your cart?')) {
  localStorage.removeItem('cart');
  localStorage.removeItem('whatsappInitiated'); // ‚úÖ This line resets Step 1 flag
  renderCart();
  updateCartTotals();
  updateCartCount();
  checkoutSection.style.display = 'none';
}

  // Get form values
  const name = document.getElementById('customer-name').value.trim();
  const phone = document.getElementById('customer-phone').value.trim();
  const address = document.getElementById('customer-address').value.trim();
  const email = document.getElementById('customer-email').value.trim();

  // Validate required fields
  if (!name || !phone || !address) {
    alert('Please fill in all required fields (Name, Phone, and Address).');
    return;
  }



  // Build message
  let totalAmount = 0;
  let totalItems = 0;
  let message = `üìö *New Book Order - Krait Publishing*%0A`;
  message += `========================================%0A%0A`;
  message += `üë§ *Customer:* ${name}%0A`;
  message += `üìû *Phone:* ${phone}%0A`;
  message += `üè† *Address:* ${address}%0A`;
  if (email) message += `üìß *Email:* ${email}%0A`;
  message += `%0Aüõí *Order Summary:*%0A`;

  cart.forEach((item, index) => {
    const itemTotal = (parseFloat(item.price) * item.quantity).toFixed(2);
    totalAmount += parseFloat(itemTotal);
    totalItems += item.quantity;

    message += `${index + 1}. ${item.title}%0A`;
    message += `   ‚Çπ${item.price} x ${item.quantity} = ‚Çπ${itemTotal}%0A%0A`;
  });

  message += `üí∞ *Total Items:* ${totalItems}%0A`;
  message += `üí∏ *Total Amount:* ‚Çπ${totalAmount.toFixed(2)}%0A`;
  message += `üìû Please confirm this order. Thank you! üôè`;

  // WhatsApp send URL
  const whatsappURL = `https://api.whatsapp.com/send?phone=918903020071&text=${encodeURIComponent(message)}`;
  console.log("WHATSAPP URL:", whatsappURL);
window.open(whatsappURL, '_blank');


  // Debug - optional
  console.log("Generated WhatsApp URL:", whatsappURL);
  alert("Sending order via WhatsApp...");

  // Open WhatsApp
  window.open(whatsappURL, '_blank');

  // Confirm and clear cart
  if (confirm('Would you like to clear your cart?')) {
    localStorage.removeItem('cart');
    renderCart();
    updateCartTotals();
    updateCartCount();
    checkoutSection.style.display = 'none';
  }
});

    });
    // Handle "Say Hi" button click
document.getElementById('say-hi-btn').addEventListener('click', function(e) {
  e.preventDefault();
  localStorage.setItem('whatsappInitiated', 'true');
  window.open('https://wa.me/918903020071?text=Hi', '_blank');
});



  </script>

  <script>
  document.addEventListener('DOMContentLoaded', function() {
    // Initialize search functionality
    initializeSearch();
  });
  </script>
  <script>

    
  // Function to update counts
  function updateCounts() {
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    const wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
    
    // Update cart count
    const cartCountElement = document.getElementById('cart-count');
    if (cartCountElement) {
      let totalCount = 0;
      cart.forEach(item => totalCount += item.quantity);
      cartCountElement.textContent = totalCount;
    }
    
    // Update wishlist count
    const wishlistCountElement = document.getElementById('wishlist-count');
    if (wishlistCountElement) {
      wishlistCountElement.textContent = wishlist.length;
    }
  }

  document.addEventListener('DOMContentLoaded', function() {
    updateCounts();
    
    // Initialize search functionality
    initializeSearch();

    // Add click handler for wishlist icons
    document.querySelectorAll('.flaticon-heart-1').forEach(icon => {
      icon.closest('a').addEventListener('click', function(e) {
        e.preventDefault();
        
        const bookWrap = this.closest('.book-wrap');
        const title = bookWrap.querySelector('h2 a').textContent;
        const priceElement = bookWrap.querySelector('.price');
        const price = priceElement.classList.contains('sale') ? 
          bookWrap.querySelectorAll('.price')[1].textContent.replace('‚Çπ', '') :
          priceElement.textContent.replace('‚Çπ', '');
        const image = bookWrap.querySelector('.img').style.backgroundImage.replace('url(', '').replace(')', '').replace(/"/g, '');
        
        let wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
        
        if (wishlist.some(item => item.title === title)) {
          alert('This book is already in your wishlist!');
          return;
        }
        
        wishlist.push({ title, price, image });
        localStorage.setItem('wishlist', JSON.stringify(wishlist));
        updateCounts();
        alert('Added to wishlist successfully!');
      });
    });

    // Add click handler for cart icons
    document.querySelectorAll('.flaticon-shopping-cart').forEach(icon => {
      icon.closest('a').addEventListener('click', function(e) {
        e.preventDefault();
        
        // Get book details from the closest book-wrap div
        const bookWrap = this.closest('.book-wrap');
        const title = bookWrap.querySelector('h2 a').textContent;
        const priceElement = bookWrap.querySelector('.price');
        // Handle cases where there might be a sale price
        const price = priceElement.classList.contains('sale') ? 
          bookWrap.querySelectorAll('.price')[1].textContent.replace('‚Çπ', '') :
          priceElement.textContent.replace('‚Çπ', '');
        const image = bookWrap.querySelector('.img').style.backgroundImage.replace('url(', '').replace(')', '').replace(/"/g, '');
        
        // Get existing cart or initialize new one
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        
        // Check if item already exists
        const existingItemIndex = cart.findIndex(item => item.title === title);
        
        if (existingItemIndex > -1) {
          cart[existingItemIndex].quantity += 1;
        } else {
          cart.push({
            title,
            price,
            image,
            quantity: 1
          });
        }
        
        // Save updated cart
        localStorage.setItem('cart', JSON.stringify(cart));
        
        // Update counts
        updateCounts();
        
        // Show success message
        alert('Book added to cart successfully!');
      });
    });
  });
</script>

  </body>
</html>
